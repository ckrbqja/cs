#  대용량 스터디

## 디자인 패턴
디자인 패턴이란 프로그램을 설계 시 발생할 수 있는 문제점들을 객체간의 상호작용 등을 통하여 해결할 수 있도록 하나의 '규약'을 정의하는 것

---

### 1. 싱글톤 패턴
하나의 클래스에 하나의 인스턴스만 정의하는 것으로 생성 비용이 절약된다는 장점이 있지만 의존도가 높아진다는 단점이 있다

TDD를 할 때 테스트는 서로 독립된 환경에서 시행되어야 하지만 싱글톤 사용은 미리 정의된 객체를 사용하기 때문에 구현이 어렵다
<br><br>
#### 의존성 주입
싱클톤의 경우 모듈 간에 결합을 강하게 만든가는 단점이 있다 
이를 보완하기 위해 의존성 주입을 사용할 수 있다.
A가 B의 의존성이 있다는 것은 B가 변경될 시 A도 변이 된다는 것

의존성 주입은 상위 모듈이 직접 하위 모듈에 의존하는 것이 아닌 중간에 의존성 주입자가 이 부분을 가로채 간접적으로 의존한다는 것

이를 통해 상위모듈과 하위모듈사이에 의존성이 떨어지게 되는데 이를 '디커플링이 된다' 라고도 한다
<br><br>
#### 의존성 주입의 단점
모듈이 더욱더 분리되므로 클래스수가 늘어나서 복잡성이 증가할 수 있고 약간의 런타임 패넡티가 생길 수 있다.

#### 의존성 주입의 원칙
의존성 주입은 상위 모듈은 하위 모듈에서 어떤 것도 가져오면 안된다,
또한 둘 다 추상화에 의존해야 하며 세부 사항에는 의존하면 안된다.

---
### 2. 팩토리 패턴
객체를 사용하는 코드에서 객체 생성 부분을 따로 띄어내서 추상화 한 것
상위 모듈에서는 중요한 뼈대를 결정하고 하위 모듈에서는 세부 내용을 결정하는 것 

상위클래스와 하위 클래스가 분리되기 때문에 느슨한 결합을 가져갈 수 있고 상위 클래스는 인스터스 생성 방식을 전혀 알 필요가 없기 때문에 더 많은 유연성을 갖게 된다

또, 객체 생성 부분이 분리되어 있어서 리팩토링 시 한 곳만 고치면 되어 유지보수성이 증가한다

---
### 3. 전략 패턴
객체를 사용하는 코드에서 기능 수정시 직접 수정하지 않고 '캡슐화된 알고리즘'을 컨텍스트 내에서 변경하여 상호교체가 가능하게 하는 패턴

자주 사용되는 라이브러리로는 nodejs에 passport가 있으며 local strategy, 페이스북 네이버 등 
다양한 서비스 전략을 제공한다

---
### 4. 옵저버 패턴
주체가 어떤 상태 변화를 관찰하다가 상태 변화가 있을 때마다 메서드 등을 통해 옵저버 목록에 있는 옵저버 들에게 변화를 알려주는 패턴

옵저버 패턴을 사용한 대표적인 서비스에는 트위터가 있다
또한 옵저버 패턴을 주로 이벤트 기반 시스템에 사용하며 MVC 패턴에도 사용 된다

---
#### 상속과 구현
##### 상속 
상속은 자식 클래가 부모 클래스의 매소드나 상수를 상속받아 자식 클래스에서 추가 및 확장을 하는 것으로
재사용성, 중복 최소화가 이뤄진다 

##### 구현
구현은 부모 인터페이스를 자식 클래스에서 재정의 하여 사용하는 것 
상속과 다르게 반드시 부모 클래스의 모든 메서드를 재정의하여 구현하여야 한다

둘의 차이점은 상속은 추상클래스나 일반 클래스 기반으로 구현하며,
구현은 인터페이스 기반으로 구현한다

---

#### 자바스크립트에서의 옵저버 구현
자바스크립트에서는 프록시 객체를 통해 구현할 수 있다.

프론트엔드에서 사용 되는 프레임워크 vuejs에서 대표적으로 사용된다
ref reactive로 정의하면 해당 값이 변되었을 때 자동으로 DOM에 있는 값이 변경된다.

---
### 5. 프록시 패턴
대상 객체에 접근하기 전 그 접근에 대한 흐름을 가로채어 접근을 필터링 하거나 수정하는 역할을 하는 계층에 있는 패턴입니다

객체의 속성 변환 등을 보완하며, 데이터 검증, 캐싱, 로깅에 사용된다 
이는 앞서 객체로도 쓰이기도 하지만 프록시 서버로도 활용된다.

#### 프록사 서버
프록시 서버는 서버와 클라이언트 사이에서 클라이언트가 자신을 통해 다른 서비스로 간접적으로 접근할 수 있게 해주는 시스템이나 응용프로그램을 말한다

nginx가 대표적으로 주로 nodejs 앞단에 쓰인다 

nginx를 사용하면 버퍼 플로우 공격을 예방할 수 있으며
포트를 숨길 수 있고 로깅, 정적 자원을 gzip으로 압축할 수도 있다.

#### CloudFlare
전 세계적으로 분산된 서버가 있고 어떠한 콘텐츠 전달을 빠르게 할 수 있는 CDN 서비스 이다
DDOS공격 방어나 https 구축에 사용된다 클라우드를 사용중일 시 해외에서 무언가 의심스러운 트래픽이 많이 발생하면
의심스러운 트래픽인지 판단하여 CAPTCHA 등을 기반으로 일정부분을 막아주는 기능도 수행한다

> - CDN(Content Delivery Network)<br>
각 사용자가 인터넷에 접근하는 곳과 가까운 곳에서 컨텐츠를 캐싱 또는 배포하는 서버 네트워크를 말한 이를 통해 웹 서버로 부터 컨텐츠를 다운로드 받는 속도를 줄일 수 있다.

#### CORS(Cross-origin Resource Sharing)와 프론트 서버의 프록시 서버
CORS는 서버가 웹 브라우저에서 라소스를 로드할 때 다른 오리진을 통해 로드하지 못하게 하는 HTTP헤더 기반 메커니
> - origin<br>
프로토콜과 호스트 이름, 포트의 조합을 말한다. 

---
### 6. 이터레이터 패턴 
이터레이터를 사용하여 컬랙션 요소에 접근하는 디자인 패턴으로 
순회할 수 있는 여러 자료형의 구조와 상관 없이 이터레이터라는 하나의 인터페이스로 순회가 가능하다

### 7. 노출모듈 패턴
즉시 실행 함수를 통해 private public 같은 접근 제어자를 만드는 패턴을 말한다
자바스크립트는 private나 public 같은 접근 제어자가 존재하지 않고 전역 범위에서 실행된다
그렇기 때문에 노출모듈 패턴을 통해 접근제어자를 구현하

### 8. MVC 패턴
모델, 뷰, 컨트롤러 로 이루어진 디자인 패턴 
어플리케이션의 구성요소를 세 가지 역할로 구분하여 개발 프로세스 각각의 영역에 집중해서 개발할 수 있다.
재사용성 확작성이 용이하다는 장점이 있고 어플리케이션이 복잡해질수록 모델과 뷰 관계가 복잡지는 단점이 있다.

#### 모델
모델은 어플리케이션의 데이터베이스, 상수, 변수등을 뜻한다
뷰에서 데이터를 생성하거나 수정하면 컨트롤러를 통해 모델을 생성하거 갱신한다

#### 뷰 
뷰는 인풋박스, 체크박스 등 사용자 인터페이스 요소를 나타낸다
즉 모델 기반으로 사용자가 볼 수 있는 화면을 말한다
모델이 갖고있는 정보를 따로 저장하지 않아야 하고 단순히 사각형 모양등 화면에서 표시하는 정보만 갖고 있어야 한다

#### 컨트롤러
컨트롤러는 하나 이상의 모델과 하나 이상의 뷰를 잇는 다리 역할을 하며 이벤트 등 메인 로직을 담당한다
또한 모델과 뷰의 생명주기도 관리하며 모델이나 뷰의 변경 통지를 받으면 이를 해석하여 각각 구성 요소에 해당 내용애 대해 알려준다

MVC 패턴의 대표적 예 로는 스프링이 있다

### 9. MVP 패턴
MVC 패턴에서 파생되었으며 컨트롤러가 presenter 로 교체된 패턴
뷰와 프레잰터의 관계는 일대일 이므로 더 강한 결합을 지닌 디자인 패턴

### 10. MVVM 패턴
MVC모델에서 C가 view model로 바뀐 패턴이다

여기서 뷰모델은 뷰를 한번더 추상화한 계층이며 MVC 패턴과 다르게 커맨드와 데이터 바인딩을 가지는 것이 특징
뷰와 모델 사이에 양방향 데이터 바인딩을 지원하며 UI를 별도 코딩없이 재사용할 수 있고 단위 태스팅하기 쉽

대표적 예로는 뷰가 존재하며 반응형이 특징인 프론트 프레임워크이다
함수를 사용하지 않고 값의 대입만으로 변수가 변경되며 양방향 바인딩 html을 토대로 컨포넌르를 구축할 수 있다는 점이 크다

